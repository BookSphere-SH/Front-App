<div *ngIf="book" class="container mt-5">
  <div class="row align-items-center book-detail-row">
    <div class="col-md-6 text-center">
      <img [src]="book.portada" alt="{{ 'bookCoverAlt' | translate:{title: book.titulo} }}" class="img-fluid book-cover">
    </div>
    <div class="col-md-6">
      <h2>{{ book.titulo }}</h2>
      <p><strong>{{ 'descriptionLabel' | translate }}</strong> {{ book.descripcion }}</p>
      <p><strong>{{ 'summaryLabel' | translate }}</strong> {{ book.resumen }}</p>
      <p><strong>{{ 'priceLabel' | translate }}</strong> {{ book.precio }}</p>

      <!-- Selección de formato -->
      <div class="form-group">
        <label for="formato">{{ 'formatAvailableLabel' | translate }}</label>
        <div>
          <button class="btn btn-secondary" (click)="seleccionarFormato('físico')">{{ 'physicalFormatButton' | translate }}</button>
          o
          <button class="btn btn-secondary" (click)="seleccionarFormato('digital')">{{ 'digitalFormatButton' | translate }}</button>
        </div>
      </div>

      <!-- Botón de pago -->

    </div>
  </div>

  <!-- Comments section -->
  <div class="comments-section mt-5">
    <h3>{{ 'userCommentsLabel' | translate }}</h3>

    <!-- List comments -->
    <div *ngFor="let comment of book.comments" class="comment-card mt-3 p-3 border rounded">
      <h5>{{ comment.username }}</h5>
      <p><strong>{{ 'dateLabel' | translate }}</strong> {{ comment.date | date:'medium' }}</p>
      <p><strong>{{ 'commentLabel' | translate }}</strong> {{ comment.content }}</p>
      <p><strong>{{ 'ratingLabel' | translate }}</strong> {{ comment.rating }}/5</p>
    </div>

    <!-- If no comments -->
    <div *ngIf="book.comments.length === 0" class="alert alert-info mt-3">
      {{ 'noCommentsLabel' | translate }}
    </div>
  </div>
</div>
